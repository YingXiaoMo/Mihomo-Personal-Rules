# è§„åˆ™å¹¶ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œåœ¨æ»¡è¶³è‡ªå·±éœ€æ±‚æƒ…å†µä¸‹ï¼Œå°½é‡åšåˆ°ç²¾ç®€ï¼Œä¸è¦è¿‡åº¦å¤æ‚ï¼Œä»¥å…å½±å“æ€§èƒ½ã€‚

# ä»…è‡ªç”¨ï¼Œè¦ç”¨çš„å¯ä»¥æ ¹æ®è‡ªå·±éœ€æ±‚ä¿®æ”¹ä¸€ä¸‹ã€‚




# è¿é€šæ€§æ£€æŸ¥é€šç”¨é”šç‚¹
Check: &Check { url: https://www.gstatic.com/generate_204, interval: 180, timeout: 5000 } 


# æœºåœºè®¢é˜…
proxy-providers:
  Airport1:                                                        # æ·»åŠ å¤šä¸ªæœºåœºä¸è¦é‡å¤å‘½å
    url: "æœºåœºè®¢é˜…"                                                 # æœºåœºè®¢é˜…åœ°å€ 
    type: http                                                     # è®¢é˜…ç±»å‹       
    interval: 86400                                                # è®¢é˜…æ›´æ–°é¢‘ç‡ï¼Œå•ä½ä¸ºç§’ï¼Œ86400ç§’å³24å°æ—¶                                 
    health-check:                                                  # å¯ç”¨èŠ‚ç‚¹è¿é€šæ€§æ£€æŸ¥                  
      enable: true                                                 # æ˜¯å¦å¯ç”¨è¿é€šæ€§æ£€æŸ¥         
      url: https://www.gstatic.com/generate_204                    # ç”¨äºæ£€æŸ¥èŠ‚ç‚¹è¿é€šæ€§çš„ç½‘å€
      interval: 300                                                # æ£€æŸ¥é¢‘ç‡ï¼Œå•ä½ä¸ºç§’
    proxy: DIRECT                                                  # è®¢é˜…ä¸‹è½½æ—¶ä½¿ç”¨çš„ä»£ç†åç§°ï¼Œè‹¥ä¸éœ€è¦å¯åˆ é™¤æ­¤è¡Œï¼ŒDIRECTè¡¨ç¤ºç›´è¿                           
    override:
#      additional-prefix: ""                                       # è‡ªå®šä¹‰èŠ‚ç‚¹åå­—å‰ç¼€                  
#      additional-suffix: ""                                       # è‡ªå®šä¹‰èŠ‚ç‚¹åå­—åç¼€                 
#      skip-cert-verify: true                                      # æ˜¯å¦è·³è¿‡èŠ‚ç‚¹çš„è¯ä¹¦éªŒè¯ï¼Œé»˜è®¤ä¸º false
      udp: true                                                    # æ˜¯å¦å¯ç”¨ UDP è½¬å‘ï¼Œé»˜è®¤ä¸º true                   
#    filter: "(?i)æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore"                      # è®¢é˜…å†…èŠ‚ç‚¹çš„è¿‡æ»¤è§„åˆ™ï¼Œæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼  

# è¦æ·»åŠ å¤šä¸ªæœºåœºå°±æŠŠä¸Šé¢çš„æ•´ä¸ª Airport1 å—å¤åˆ¶ç²˜è´´ï¼Œæ”¹ä¸ªåå­—å°±è¡Œäº†


# å…¨å±€é…ç½®
port: 7890                                                         # HTTP(S) ä»£ç†ç«¯å£
socks-port: 7891                                                   # SOCKS5 ä»£ç†ç«¯å£ 
redir-port: 7892                                                   # æµé‡è½¬å‘ç«¯å£   
mixed-port: 7893                                                   # HTTP(S)&SOCKS5 æ··åˆä»£ç†ç«¯å£
tproxy-port: 7894                                                  # TProxy ä»£ç†ç«¯å£ï¼ˆç”¨äºé€æ˜ä»£ç†ï¼‰
allow-lan: true                                                    # å…è®¸å±€åŸŸç½‘
bind-address: "*"                                                  # ç»‘å®šå±€åŸŸç½‘ IPï¼Œ* è¡¨ç¤ºç›‘å¬æ‰€æœ‰åœ°å€
ipv6: true                                                         # ipv6ï¼Œfalseè¡¨ç¤ºå…³é—­
unified-delay: true                                                # å¯ç”¨ç»Ÿä¸€å»¶è¿Ÿï¼Œæ˜¾ç¤ºèŠ‚ç‚¹åˆ°ç›®æ ‡ç«™ç‚¹çš„çœŸå®å»¶è¿Ÿ
tcp-concurrent: true                                               # å¼€å¯ TCP å¹¶å‘
log-level: info                                                    # æ—¥å¿—ç­‰çº§
mode: rule                                                         # è¿è¡Œæ¨¡å¼
find-process-mode: 'off'                                           # è¿›ç¨‹åŒ¹é…æ¨¡å¼ï¼ˆalways: æ€»æ˜¯åŒ¹é…ï¼›strict: ä¸¥æ ¼åŒ¹é…ï¼›off: å…³é—­ï¼‰
# interface-name: en0                                              # å¼ºåˆ¶ç»‘å®šå‡ºå£ç½‘å¡
global-client-fingerprint: chrome                                  # ä¼ªè£…æµè§ˆå™¨ TLS æŒ‡çº¹ï¼Œå‡å°‘è¢«åçˆ¬æ‹¦æˆª
keep-alive-idle: 600                                               # TCP ç©ºé—²ä¿æŒï¼Œé’ˆå¯¹ç§»åŠ¨ç«¯ä¼˜åŒ–ï¼Œå¯ä»¥ç»™æ‰‹æœºçœç”µ
keep-alive-interval: 15                                            # TCP ä¿æ´»æ¢æµ‹é¢‘ç‡ï¼ˆç§’ï¼‰ï¼Œç»´æŒè¿æ¥ä¸è¢«å¼ºåˆ¶æ–­å¼€
disable-keep-alive: false                                          # æ˜¯å¦ç¦ç”¨ä¿æ´»æœºåˆ¶ï¼ˆfalse è¡¨ç¤ºç»´æŒå¼€å¯ï¼Œæœ‰åˆ©äºè¿æ¥ç¨³å®šï¼‰
profile:
  store-selected: true                                             # è®°å¿†ä¸Šæ¬¡é€‰ä¸­çš„èŠ‚ç‚¹ï¼Œé‡å¯åæ— éœ€é‡æ–°é€‰æ‹©                         
  store-fake-ip: false                                             # fake-ip ç¼“å­˜ï¼Œfalseè¡¨ç¤ºå…³é—­              


# æ§åˆ¶é¢æ¿
#ï¼ˆæ‰€æœ‰æ’ä»¶éƒ½è‡ªå¸¦å¯ä»¥åœ¨è®¾ç½®é‡Œä¸‹è½½ï¼Œæ‰€ä»¥ä¸å†™äº† ï¼‰


# å—…æ¢
sniffer:
  enable: true
  force-dns-mapping: true                                          # å¯¹ redir-host ç±»å‹è¯†åˆ«çš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  parse-pure-ip: true                                              # å¯¹æ‰€æœ‰ipè¿›è¡Œå¼ºåˆ¶å—…æ¢
  override-destination: true                                       # æ˜¯å¦ä½¿ç”¨å—…æ¢ç»“æœä½œä¸ºå®é™…è®¿é—®
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  skip-domain:
    # --- æ™ºèƒ½å®¶å±…ä¸è‹¹æœ ---
    - "Mijia Cloud"
    - "dlg.io.mi.com"
    - "+.push.apple.com"
    - "+.apple.com"
    # --- è·¯ç”±å™¨ä¸å±€åŸŸç½‘  ---
    - "miwifi.com"
    - "router.asus.com"
    - "tplogin.cn"
    - "+.lan"
    - "+.local"
    # --- ç³»ç»ŸæœåŠ¡ ---
    - "+.msftconnecttest.com"                                      # Windows ç½‘ç»œè¿æ¥æµ‹è¯•
    - "+.msftncsi.com"                                             # Windows ç½‘ç»œçŠ¶æ€æŒ‡ç¤ºå™¨


# å…¥ç«™
tun:
  enable: true                                                      # å¼€å¯tun
  stack: mixed                                                      # ä¸‰ç§æ¨¡å¼,systemï¼ˆå…¼å®¹æ€§æœ€å¥½ä½†æ˜¯udpæ”¯æŒä¸ä½³ï¼‰/gvisorï¼ˆudpæ”¯æŒå¥½ï¼‰/mixedï¼ˆç»“åˆå‰ä¸¤ä¸ªçš„ä¼˜ç‚¹ï¼‰
  dns-hijack: ["any:53", "tcp://any:53"]                            # åŠ«æŒ53ç«¯å£
  auto-route: true                                                  # è‡ªåŠ¨è·¯ç”±
  auto-redirect: true                                               # è‡ªåŠ¨é‡å®šå‘
  auto-detect-interface: true                                       # è‡ªåŠ¨æ¥å£é€‰æ‹©
  endpoint-independent-nat: true                                    # å¯ç”¨ç‹¬ç«‹äºç«¯ç‚¹çš„ NAT ç”¨äºæé«˜NATç­‰çº§ï¼Œå¯èƒ½å¯¹æ¸¸æˆè”æœºæœ‰å¸®åŠ©
  udp-timeout: 300s                                                 # UDP NAT è¿‡æœŸæ—¶é—´ï¼Œä»¥ç§’ä¸ºå•ä½


# DNSæ¨¡å—
dns:
  enable: true                                                      # å¯ç”¨DNSæ¨¡å— 
  listen: 0.0.0.0:7874                                              # ç›‘å¬åœ°å€å’Œç«¯å£
  ipv6: true                                                        # æ˜¯å¦å¯ç”¨IPv6
  respect-rules: true                                               # æ˜¯å¦è®©è¿æ¥DNSæœåŠ¡å™¨æ—¶èƒ½å¤Ÿéµå¾ªè§„åˆ™
  use-hosts: true                                                   # æ˜¯å¦å›åº”é…ç½®ä¸­çš„ hostsï¼Œé»˜è®¤ true
  use-system-hosts: false                                           # æ˜¯å¦æŸ¥è¯¢ç³»ç»Ÿ hosts æ–‡ä»¶ï¼Œé»˜è®¤ false
  enhanced-mode: redir-host                                         # å¢å¼ºæ¨¡å¼ï¼Œæ”¯æŒ redir-host å’Œ fake-ip ä¸¤ç§æ¨¡å¼             


# åŸºç¡€DNSæœåŠ¡å™¨ï¼Œå¿…é¡»å…ˆæœ‰å®ƒæ‰èƒ½ä½¿ç”¨åŸŸåç±»å‹çš„DNSé…ç½®ï¼Œå› æ­¤å¿…é¡»ä¸ºIPï¼Œæ­¤å¤„ä½¿ç”¨é˜¿é‡Œäº‘DNS
# ä¸‹é¢å…¨æ˜¯æ•°å­—dnsæ‰€ä»¥è¿™ä¸ªå¯ä»¥æ³¨é‡Šæ‰
#  default-nameserver:      
#    - tls://223.5.5.5                      # é˜¿é‡Œ DNS
#    - tls://120.53.53.53                   # è¿™ä¸ªæ˜¯è…¾è®¯çš„ DNSï¼Œé»˜è®¤çš„119ä¸æ”¯æŒè¿™äº›å†™æ³• 


# è§„åˆ™åŒ¹é…åˆ°ç›´è¿æ—¶ä½¿ç”¨çš„DNSï¼Œæ—¢ç„¶æ˜¯å¯ä»¥ç›´è¿çš„ï¼Œå½“ç„¶è¦ç”¨å›½å†…DNSè§£æé€Ÿåº¦æ›´å¿«æ›´ç¨³å®š
# æˆ‘ä½¿ç”¨ä¸‹é¢çš„æ•°æ®åº“åŒ¹é…æ‰€ä»¥æŠŠè¿™é‡Œæ³¨é‡Šæ‰äº†ï¼Œéœ€è¦çš„å¯ä»¥æ‰“å¼€è¿™ä¸ªï¼ŒæŠŠä¸‹é¢çš„nameserver-policyæ³¨é‡Šæ‰
#  direct-nameserver:    
#    - https://223.5.5.5/dns-query         
#    - https://120.53.53.53/dns-query      


# è§£æä»£ç†èŠ‚ç‚¹æ—¶ä½¿ç”¨çš„DNSï¼Œæœ€å¥½è®¾ç½®ä¸ºå›½å†…DNSï¼Œå¦åˆ™åœ¨ä»£ç†çš„ç¬¬ä¸€æ­¥å°±å¯èƒ½å› ä¸ºè¿æ¥ä¸ä¸Šå›½å¤–DNSè€Œè§£æä¸å‡ºä»£ç†èŠ‚ç‚¹çš„IPï¼Œæœ€ç»ˆå€’åœ¨èµ·ç‚¹
  proxy-server-nameserver:
    - https://223.5.5.5/dns-query         # é˜¿é‡Œ DNS
    - https://120.53.53.53/dns-query      # è¿™ä¸ªæ˜¯è…¾è®¯çš„ DNSï¼Œé»˜è®¤çš„119ä¸æ”¯æŒè¿™äº›å†™æ³•


# æŒ‡å®šåŸŸåæŸ¥è¯¢çš„è§£ææœåŠ¡å™¨ï¼Œå¯ä½¿ç”¨ geosite, ä¼˜å…ˆäº nameserver/fallback æŸ¥è¯¢
  nameserver-policy:
    # å›½å†…åŸŸå -> æ­£å¸¸åŒæ ˆ
    "geosite:cn,private,steam@cn":
      - https://223.5.5.5/dns-query         # é˜¿é‡Œ DNS
      - https://120.53.53.53/dns-query      # è¿™ä¸ªæ˜¯è…¾è®¯çš„ DNSï¼Œé»˜è®¤çš„119ä¸æ”¯æŒè¿™äº›å†™æ³•


# åœ¨è®¿é—®çš„å›½å¤–ç½‘ç«™æ²¡æœ‰åŒ¹é…åˆ°ä»»ä½•åŸŸåè§„åˆ™ï¼Œæœ€ç»ˆèµ°äº†MATCHå…œåº•è§„åˆ™æ—¶ä½¿ç”¨çš„DNSï¼Œä¸ºäº†ç¡®ä¿ä¸å‘ç”ŸDNSæ³„æ¼å’ŒDNSæ±¡æŸ“ï¼Œå¿…é¡»ä½¿ç”¨å›½å¤–DNS
# è¯´äººè¯å°±æ˜¯ä¸Šé¢å¼€å¯äº†éµå¾ªè·¯ç”±è§„åˆ™ï¼ŒDNSè¯·æ±‚ä¼šåŒ¹é…è‡ªå·±å†™çš„è§„åˆ™ï¼Œæ²¡åŒ¹é…åˆ°çš„ä¼šç”¨è¿™ä¸ªDNSï¼Œä¸Šé¢å†™äº†cnæ•°æ®åº“ï¼Œæ²¡åŒ¹é…åˆ°æ•°æ®åº“çš„éƒ½ä¼šä½¿ç”¨è¿™ä¸ªè§£æï¼Œæ‰€ä»¥å†™å›½å¤–çš„é˜²æ­¢DNSæ³„éœ²
# æˆ‘ä¸éœ€è¦å›½å¤–v6åœ°å€ï¼Œæ‰€ä»¥å¼ºåˆ¶ä¸¢å¼ƒv6äº†ï¼Œæœ‰éœ€è¦å¯ä»¥å»æ‰#disable-ipv6=true
  nameserver:
      - https://1.1.1.1/dns-query#disable-ipv6=true         # å›½å¤–åŸŸå -> ä»…ipv4 
      - https://8.8.8.8/dns-query#disable-ipv6=true         # å›½å¤–åŸŸå -> ä»…ipv4 


# èŠ‚ç‚¹é€‰æ‹©é”šç‚¹
all: &all { type: select, proxies: [ æ–°åŠ å¡æ•£åˆ—, é¦™æ¸¯æ•£åˆ—, å°æ¹¾æ•£åˆ—, æ—¥æœ¬æ•£åˆ—, ç¾å›½æ•£åˆ—, å…¶ä»–æ•£åˆ—, è‡ªå»ºæ•£åˆ—, æ–°åŠ å¡æ‰‹åŠ¨, é¦™æ¸¯æ‰‹åŠ¨, å°æ¹¾æ‰‹åŠ¨, æ—¥æœ¬æ‰‹åŠ¨, ç¾å›½æ‰‹åŠ¨, å…¶ä»–æ‰‹åŠ¨, è‡ªå»ºæ‰‹åŠ¨, å…¨éƒ¨æ‰‹åŠ¨, ç›´è¿ ] } 


# èŠ‚ç‚¹ç­›é€‰é”šç‚¹
SG: &SG { filter: "(?i)æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore" } 
HK: &HK { filter: "(?i)æ¸¯|hk|hongkong|hong kong" } 
US: &US { filter: "(?i)(us|united states|ç¾å›½|ç¾åŒº)" }
JP: &JP { filter: "(?i)æ—¥æœ¬|jp|japan" } 
TW: &TW { filter: "(?i)å°|å°æ¹¾|tw|taiwan" } 
ZJ: &ZJ { filter: "(?i)(è‡ªå»º|workers)(?!.*ç§»åŠ¨)" }                # è¿™é‡Œåªä¼šåŒ¹é…è‡ªå»ºå’Œworkersï¼Œä¸ä¼šåŒ¹é…ç§»åŠ¨è‡ªå»ºï¼Œæ—¢ç„¶æ˜¯è‡ªå»ºèŠ‚ç‚¹ï¼Œæ”¹ä¸ªåå­—å°±è¡Œäº†
Other: &Other { filter: "(?i)^(?!.*(?:ğŸ‡­ğŸ‡°|ğŸ‡¯ğŸ‡µ|ğŸ‡ºğŸ‡¸|ğŸ‡¸ğŸ‡¬|ğŸ‡¨ğŸ‡³|æ¸¯|hk|hongkong|å°|tw|taiwan|æ—¥|ç›´è¿|jp|japan|æ–°|sg|singapore|ç¾|us|unitedstates)).*" } 


# èŠ‚ç‚¹åˆ†ç»„é”šç‚¹
# Select ç­–ç•¥é€šç”¨æ¨¡æ¿ (ç”¨äºæ‰‹åŠ¨é€‰æ‹©)
Select: &Select { type: select, include-all: true, exclude-type: direct  } 
# Url-Test ç­–ç•¥é€šç”¨æ¨¡æ¿ (ç”¨äºè‡ªåŠ¨é€‰æ‹©)
Url-Test: &Url-Test { type: url-test, include-all: true, <<: *Check, hidden: true, exclude-type: direct }
# Fallback ç­–ç•¥é€šç”¨æ¨¡æ¿ (ç”¨äºæ•…éšœè½¬ç§»)
Fallback: &Fallback { type: fallback, <<: *Check, hidden: true, lazy: false }
# Round-Robin ç­–ç•¥é€šç”¨æ¨¡æ¿ (ç”¨äºè½®è¯¢è´Ÿè½½å‡è¡¡)
# è½®è¯¢ä¼šå¾ªç¯ä½¿ç”¨åˆ—è¡¨ä¸­çš„èŠ‚ç‚¹ï¼Œé€‚ç”¨äºéœ€è¦å¹³å‡åˆ†é…è´Ÿè½½çš„åœºæ™¯
RR: &RR { type: load-balance, strategy: round-robin, include-all: true, <<: *Check,hidden: true, exclude-type: direct }
# Load-Balance (æ•£åˆ—) ç­–ç•¥é€šç”¨æ¨¡æ¿
# é€‚ç”¨äºéœ€è¦ä¿æŒå®¢æˆ·ç«¯è¿æ¥ä¸€è‡´æ€§ï¼ˆä¾‹å¦‚ï¼Œé˜²æ­¢é¢‘ç¹åˆ‡æ¢ IP å¯¼è‡´ç™»å½•å¤±æ•ˆï¼‰çš„åœºæ™¯
CH: &CH { type: load-balance, strategy: consistent-hashing, include-all: true, <<: *Check,hidden: true, exclude-type: direct }

# é”šç‚¹é‡Œé¢çš„ hidden: true è¡¨ç¤ºéšè—è¿™ä¸ªä»£ç†ç»„ï¼Œä¸ä¼šåœ¨ä»£ç†åˆ—è¡¨ä¸­æ˜¾ç¤ºï¼Œä½†ä»ç„¶å¯ä»¥åœ¨è§„åˆ™ä¸­ä½¿ç”¨å®ƒä»¬ã€‚é€‚åˆç”¨äºä¸éœ€è¦æ‰‹åŠ¨æ›´æ”¹çš„åˆ†ç»„ï¼Œæ¯”å¦‚è‡ªåŠ¨é€‰æ‹©ã€è´Ÿè½½å‡è¡¡ç­‰ã€‚


# ä»£ç†ç»„é…ç½®
proxy-groups:
  - { name: æ¼ç½‘ä¹‹é±¼, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/match.png" }
  - { name: æ¸¸æˆå¹³å°, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Steam.png" }
  - { name: GitHub, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/GitHub.png" }
  - { name: ç”µæŠ¥æ¶ˆæ¯, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Telegram.png" }
  - { name: Cloudflare, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Cloudflare.png" }
  - { name: AIæœåŠ¡, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/AI.png" }
  - { name: ChatGPT, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/ChatGPT.png" }
  - { name: Claude, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Claude.png" }
  - { name: MetaAI, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/MetaAI.png" }
  - { name: Perplexity, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Perplexity.png" }
  - { name: Gemini, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Gemini.png" }
  - { name: Copilot, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Copilot.png" }
  - { name: æ²¹ç®¡è§†é¢‘, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/YouTube.png" }
  - { name: è°·æ­ŒæœåŠ¡, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Google.png" }
  - { name: å“”å“©å“”å“©, type: select, proxies: [ç›´è¿, é¦™æ¸¯æ•£åˆ—, å°æ¹¾æ•£åˆ—, é¦™æ¸¯æ‰‹åŠ¨, å°æ¹¾æ‰‹åŠ¨], icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/bilibili.png" }
  - { name: å¾®è½¯äº‘ç›˜, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/OneDrive.png" }
  - { name: å¾®è½¯æœåŠ¡, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Microsoft.png" }
  - { name: è‹¹æœæœåŠ¡, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Apple.png" }
  - { name: ç½‘ç»œæµ‹è¯•, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Speedtest.png" }
  - { name: Twitter, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Twitter.png" }
  - { name: TikTok, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Tiktok.png" }
  - { name: ä»£ç†åŸŸå, <<: *all, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Global.png" }
  - { name: ç›´è¿, type: select, proxies: [DIRECT], hidden: true, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Direct.png" }


# å…¨éƒ¨èŠ‚ç‚¹
  - { name: å…¨éƒ¨æ‰‹åŠ¨, <<: *Select, <<: *Check, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Proxy.png" }
# - { name: å…¨éƒ¨è‡ªåŠ¨, <<: *Url-Test, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Auto.png" }
# - { name: å…¨éƒ¨æ™ºèƒ½, <<: *Smart, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Magic.png" }
# - { name: å…¨éƒ¨æ•…è½¬, <<: *Fallback, include-all: true, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Loop.png" }
# - { name: è½®è¯¢è´Ÿè½½, <<: *RR, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Round_Robin.png" }
# - { name: æ•£åˆ—è´Ÿè½½, <<: *CH, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Final.png" }


# æ‰‹åŠ¨é€‰æ‹©
  - { name: æ–°åŠ å¡æ‰‹åŠ¨, <<: *Select, <<: *Check, <<: *SG, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Singapore.png" }
  - { name: é¦™æ¸¯æ‰‹åŠ¨, <<: *Select, <<: *Check, <<: *HK, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Hong_Kong.png" }
  - { name: å°æ¹¾æ‰‹åŠ¨, <<: *Select, <<: *Check, <<: *TW, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Taiwan.png" }
  - { name: æ—¥æœ¬æ‰‹åŠ¨, <<: *Select, <<: *Check, <<: *JP, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Japan.png" }
  - { name: ç¾å›½æ‰‹åŠ¨, <<: *Select, <<: *Check, <<: *US, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/United_States.png" }
  - { name: å…¶ä»–æ‰‹åŠ¨, <<: *Select, <<: *Check, <<: *Other, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Puzzle.png"}
  - { name: è‡ªå»ºæ‰‹åŠ¨, <<: *Select, <<: *Check,<<: *ZJ, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Daily.png"}


# dns
  - { name: DNSæœåŠ¡, type: url-test, <<: *Check, hidden: true, proxies: [ æ–°åŠ å¡è‡ªåŠ¨, é¦™æ¸¯è‡ªåŠ¨ ], icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Area.png"}


# æ•…éšœè½¬ç§» 
# - { name: æ–°åŠ å¡æ•…è½¬, <<: *Fallback, proxies: [ æ–°åŠ å¡è‡ªåŠ¨, æ–°åŠ å¡æ‰‹åŠ¨ ], icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Singapore.png"}
# - { name: é¦™æ¸¯æ•…è½¬, <<: *Fallback, proxies: [ é¦™æ¸¯è‡ªåŠ¨, é¦™æ¸¯æ‰‹åŠ¨ ], icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Hong_Kong.png"}
# - { name: å°æ¹¾æ•…è½¬, <<: *Fallback, proxies: [ å°æ¹¾è‡ªåŠ¨, å°æ¹¾æ‰‹åŠ¨ ], icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Taiwan.png"}
# - { name: æ—¥æœ¬æ•…è½¬, <<: *Fallback, proxies: [ æ—¥æœ¬è‡ªåŠ¨, æ—¥æœ¬æ‰‹åŠ¨ ], icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Japan.png"}
# - { name: ç¾å›½æ•…è½¬, <<: *Fallback, proxies: [ ç¾å›½è‡ªåŠ¨, ç¾å›½æ‰‹åŠ¨ ], icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/United_States.png"}
# - { name: å…¶ä»–æ•…è½¬, <<: *Fallback, proxies: [ å…¶ä»–è‡ªåŠ¨, å…¶ä»–æ‰‹åŠ¨ ], icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Puzzle.png"}
# - { name: è‡ªå»ºæ•…è½¬, <<: *Fallback, proxies: [ è‡ªå»ºè‡ªåŠ¨, è‡ªå»ºæ‰‹åŠ¨ ], icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Daily.png"}


# è‡ªåŠ¨é€‰æ‹©
  - { name: æ–°åŠ å¡è‡ªåŠ¨, <<: *Url-Test, <<: *SG, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Singapore.png"}
  - { name: é¦™æ¸¯è‡ªåŠ¨, <<: *Url-Test, <<: *HK, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Hong_Kong.png"}
# - { name: å°æ¹¾è‡ªåŠ¨, <<: *Url-Test, <<: *TW, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Taiwan.png"}
# - { name: æ—¥æœ¬è‡ªåŠ¨, <<: *Url-Test, <<: *JP, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Japan.png"}
# - { name: ç¾å›½è‡ªåŠ¨, <<: *Url-Test, <<: *US, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/United_States.png"}
# - { name: å…¶ä»–è‡ªåŠ¨, <<: *Url-Test, <<: *Other, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Puzzle.png"}
# - { name: è‡ªå»ºè‡ªåŠ¨, <<: *Url-Test, <<: *ZJ, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Daily.png"}


# è½®è¯¢è´Ÿè½½ 
# - { name: æ–°åŠ å¡è½®è¯¢, <<: *RR, <<: *SG, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Singapore.png"}
# - { name: é¦™æ¸¯è½®è¯¢, <<: *RR, <<: *HK, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Hong_Kong.png"}
# - { name: å°æ¹¾è½®è¯¢, <<: *RR, <<: *JP, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Taiwan.png"}
# - { name: æ—¥æœ¬è½®è¯¢, <<: *RR, <<: *JP, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Japan.png"}
# - { name: ç¾å›½è½®è¯¢, <<: *RR, <<: *US, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/United_States.png"}
# - { name: å…¶ä»–è½®è¯¢, <<: *RR, <<: *Other, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Puzzle.png"}
# - { name: è‡ªå»ºè½®è¯¢, <<: *RR, <<: *ZJ, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Daily.png" }


# æ•£åˆ—è´Ÿè½½ 
 - { name: æ–°åŠ å¡æ•£åˆ—, <<: *CH, <<: *SG, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Singapore.png"}
 - { name: é¦™æ¸¯æ•£åˆ—, <<: *CH, <<: *HK, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Hong_Kong.png"}
 - { name: å°æ¹¾æ•£åˆ—, <<: *CH, <<: *JP, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Taiwan.png"}
 - { name: æ—¥æœ¬æ•£åˆ—, <<: *CH, <<: *JP, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Japan.png"}
 - { name: ç¾å›½æ•£åˆ—, <<: *CH, <<: *US, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/United_States.png"}
 - { name: å…¶ä»–æ•£åˆ—, <<: *CH, <<: *Other, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Puzzle.png"}
 - { name: è‡ªå»ºæ•£åˆ—, <<: *CH, <<: *ZJ, icon: "https://fastly.jsdelivr.net/gh/YingXiaoMo/Mihomo-Personal-Rules@main/icons/Daily.png" }


# è§„åˆ™åŒ¹é…
rules:
  # 1. ç®¡ç†ä¸DNS
  - RULE-SET,DNS, DNSæœåŠ¡
  - RULE-SET,ç§æœ‰åŸŸå, ç›´è¿
  - RULE-SET,ç§æœ‰ip, ç›´è¿,no-resolve

  - RULE-SET,ç½‘ç»œæµ‹è¯•, ç½‘ç»œæµ‹è¯•

  # 4. è°·æ­Œ/æ¶ˆæ¯æ¨é€
  - RULE-SET,è°·æ­ŒFCM, é¦™æ¸¯æ™ºèƒ½

  # 5. AI æœåŠ¡
  - RULE-SET,ChatGPT, ChatGPT
  - RULE-SET,Claude, Claude
  - RULE-SET,Meta AI, MetaAI
  - RULE-SET,Perplexity, Perplexity
  - RULE-SET,Gemini, Gemini
  - RULE-SET,Copilot, Copilot
  - RULE-SET,AIæœåŠ¡, AIæœåŠ¡

  # 6. ç‰¹å®šæµåª’ä½“ä¸å¤§å‚æœåŠ¡
  - RULE-SET,å“”å“©å“”å“©, å“”å“©å“”å“©
  - RULE-SET,ç”µæŠ¥åŸŸå, ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,ç”µæŠ¥ip, ç”µæŠ¥æ¶ˆæ¯,no-resolve
  - RULE-SET,æ²¹ç®¡è§†é¢‘, æ²¹ç®¡è§†é¢‘
  - RULE-SET,Twitter, Twitter
  - RULE-SET,TikTok, TikTok
  - RULE-SET,GitHub, GitHub
  - RULE-SET,è°·æ­Œcn, ç›´è¿
  - RULE-SET,è°·æ­ŒåŸŸå, è°·æ­ŒæœåŠ¡
  - RULE-SET,è°·æ­Œip, è°·æ­ŒæœåŠ¡,no-resolve
  - RULE-SET,è‹¹æœcn, ç›´è¿
  - RULE-SET,è‹¹æœæœåŠ¡, è‹¹æœæœåŠ¡
  - RULE-SET,å¾®è½¯cn, ç›´è¿
  - RULE-SET,å¾®è½¯äº‘ç›˜, å¾®è½¯äº‘ç›˜
  - RULE-SET,å¾®è½¯æœåŠ¡, å¾®è½¯æœåŠ¡
  - RULE-SET,Cloudflare, Cloudflare

  # 7. æ¸¸æˆç›¸å…³
  - RULE-SET,æ¸¸æˆä¸‹è½½, ç›´è¿
  - RULE-SET,trackerslist, ç›´è¿
  - RULE-SET,æ¸¸æˆå¹³å°, æ¸¸æˆå¹³å°
  - RULE-SET,æ¸¸æˆå¹³å°ip, æ¸¸æˆå¹³å°

  # 8. é€šç”¨åˆ†æµè§„åˆ™
  - RULE-SET,ç›´è¿è½¯ä»¶, ç›´è¿
  - RULE-SET,ä»£ç†é¡¶çº§åŸŸå, ä»£ç†åŸŸå
  - RULE-SET,ä»£ç†åŸŸå, ä»£ç†åŸŸå
  - RULE-SET,ç›´è¿åŸŸå, ç›´è¿

  # 9. æœ€ç»ˆå…œåº•
  - RULE-SET,å›½å†…ip, ç›´è¿
  - GEOIP,CN, ç›´è¿
  - MATCH, æ¼ç½‘ä¹‹é±¼


# è§„åˆ™é›†
rule-anchor:
  ip: &ip {type: http, interval: 86400, behavior: ipcidr, format: mrs}
  domain: &domain {type: http, interval: 86400, behavior: domain, format: mrs}
  domain_text: &domain_text {type: http, interval: 86400, behavior: domain, format: text} 
  class: &class {type: http, interval: 86400, behavior: classical, format: text}


rule-providers: 
  DNS: { <<: *class, url: "https://raw.githubusercontent.com/yingxiaomo/Mihomo-Personal-Rules/refs/heads/main/rules/proxydns.list"} 

  æ¸¸æˆä¸‹è½½: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/games-cn.mrs"} 
  æ¸¸æˆå¹³å°: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/games.mrs"} 
  ç§æœ‰åŸŸå: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/private.mrs"} 
  trackerslist: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/trackerslist.mrs"} 
  ç›´è¿è½¯ä»¶: { <<: *class, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/applications.list"} 
  å“”å“©å“”å“©: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/bilibili.mrs"} 
  å¾®è½¯äº‘ç›˜: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/onedrive.mrs"} 
  å¾®è½¯cn: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/microsoft@cn.mrs"} 
  å¾®è½¯æœåŠ¡: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/microsoft.mrs"} 
  è‹¹æœcn: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/apple@cn.mrs"}
  è‹¹æœæœåŠ¡: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/apple.mrs"} 
  è°·æ­Œcn: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/google-cn.mrs"} 
  è°·æ­ŒFCM: { <<: *class, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GoogleFCM/GoogleFCM.list"} 
  ç½‘ç»œæµ‹è¯•: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/networktest.mrs"} 
  ChatGPT: { <<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/openai.mrs"} 
  Claude: { <<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Claude/Claude.list"} 
  Meta AI: { <<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/MetaAi.list"} 
  Perplexity: { <<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/perplexity.mrs"} 
  Copilot: { <<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Copilot.list"} 
  Gemini: { <<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Gemini.list"} 
  AIæœåŠ¡: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/ai.mrs"} 
  GitHub: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs"} 
  æ²¹ç®¡è§†é¢‘: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/youtube.mrs"} 
  è°·æ­ŒåŸŸå: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs"} 
  Twitter: { <<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/x.mrs"} 
  ç”µæŠ¥åŸŸå: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs"} 
  TikTok: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/tiktok.mrs"} 
  Cloudflare: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/refs/heads/meta/geo/geosite/cloudflare.mrs"} 
  ä»£ç†é¡¶çº§åŸŸå: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/tld-proxy.mrs"} 
  ä»£ç†åŸŸå: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/gfw.mrs"} 
  ç›´è¿åŸŸå: { <<: *domain, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/cn.mrs"} 
  ç§æœ‰ip: { <<: *ip, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/privateip.mrs"} 
  å›½å†…ip: { <<: *ip, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/cnip.mrs"} 
  è°·æ­Œip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.mrs"} 
  ç”µæŠ¥ip: { <<: *ip, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/telegramip.mrs"} 
  æ¸¸æˆå¹³å°ip: { <<: *ip, url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/gamesip.mrs"} 